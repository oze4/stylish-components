/**
 * Copyright (c) 2020
 *
 * Matt Oestreich
 * matthewpoestreich@gmail.com
 * https://mattoestreich.com
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 * // -----------------------------------------------------------------------------------
 *
 * css.js
 * The MIT License (MIT)
 *
 * Copyright (c) 2015 JotForm
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 * // -----------------------------------------------------------------------------------
 *
 * styled-components/styled-components
 * ONE FILE IN THIS REPO HAS BEEN MODIFIED FROM styled-components. PLEASE SEE THE
 * FOLLOWING FILE, WHICH WAS MODIFIED:
 * https://github.com/styled-components/styled-components/blob/v3.3.3/src/utils/generateAlphabeticName.js
 */

"use strict";var e,t=require("react"),r=(e=t)&&"object"==typeof e&&"default"in e?e.default:e;function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function s(e,t,r){return t&&o(e.prototype,t),r&&o(e,r),e}function i(){return(i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function l(e,t){return(l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function u(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function f(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function p(e){return function(){var t,r=c(e);if(u()){var n=c(this).constructor;t=Reflect.construct(r,arguments,n)}else t=r.apply(this,arguments);return f(this,t)}}var d=function(e){return String.fromCharCode(e+(e>25?39:97))},h=function(){var e=Math.floor(9999999999999*Math.random());return"stylished-".concat(function(e){var t,r="";for(t=e;t>52;t=Math.floor(t/52))r=d(t%52)+r;return d(t%52)+r}(e))},m=function(){var e=document.createElement("style");e.setAttribute("data-stylished","0.1.5"),document.head.appendChild(e)},v=function(){return document.querySelector("style[data-stylished]")},g=function(e){return e.replace(/\n/g,"").replace(/\s+/g," ")},y=function(e){return g(e).match(/((@media [\s]*).*?[^}]*}.*?})/g)},S=new function e(){var t=this;n(this,e),this.cssImportStatements=[],this.cssKeyframeStatements=[],this.cssRegex=new RegExp("([\\s\\S]*?){([\\s\\S]*?)}","gi"),this.cssMediaQueryRegex="((@media [\\s\\S]*?){([\\s\\S]*?}\\s*?)})",this.cssKeyframeRegex="((@.*?keyframes [\\s\\S]*?){([\\s\\S]*?}\\s*?)})",this.combinedCSSRegex="((\\s*?(?:\\/\\*[\\s\\S]*?\\*\\/)?\\s*?@media[\\s\\S]*?){([\\s\\S]*?)}\\s*?})|(([\\s\\S]*?){([\\s\\S]*?)})",this.cssCommentsRegex="(\\/\\*[\\s\\S]*?\\*\\/)",this.cssImportStatementRegex=new RegExp("@import .*?;","gi"),this.stripComments=function(e){var r=new RegExp(t.cssCommentsRegex,"gi");return e.replace(r,"")},this.parseCSS=function(e){if(void 0===e)return[];for(var r=[];;){var n=t.cssImportStatementRegex.exec(e);if(null===n)break;t.cssImportStatements.push(n[0]),r.push({selector:"@imports",type:"imports",styles:n[0]})}e=e.replace(t.cssImportStatementRegex,"");for(var o,s=new RegExp(t.cssKeyframeRegex,"gi");null!==(o=s.exec(e));)r.push({selector:"@keyframes",type:"keyframes",styles:o[0]});e=e.replace(s,"");for(var i=new RegExp(t.combinedCSSRegex,"gi");null!==(o=i.exec(e));){var a="";a=void 0===o[2]?o[5].split("\r\n").join("\n").trim():o[2].split("\r\n").join("\n").trim();var c=new RegExp(t.cssCommentsRegex,"gi"),l=c.exec(a);if(null!==l&&(a=a.replace(c,"").trim()),-1!==(a=a.replace(/\n+/,"\n")).indexOf("@media")){var u={selector:a,type:"media",subStyles:t.parseCSS("".concat(o[3],"\n}"))};null!==l&&(u.comments=l[0]),r.push(u)}else{var f={selector:a,rules:t.parseRules(o[6])};"@font-face"===a&&(f.type="font-face"),null!==l&&(f.comments=l[0]),r.push(f)}}return r},this.parseRules=function(e){var t=[];e=(e=e.split("\r\n").join("\n")).split(";");for(var r=0;r<e.length;r++){var n=e[r];if(-1!==(n=n.trim()).indexOf(":")){var o=(n=n.split(":"))[0].trim(),s=n.slice(1).join(":").trim();if(o.length<1||s.length<1)continue;t.push({directive:o,value:s})}else"base64,"===n.trim().substr(0,7)?t[t.length-1].value+=n.trim():n.length>0&&t.push({directive:"",value:n,defective:!0})}return t},this.findCorrespondingRule=function(e,t,r){void 0===r&&(r=!1);for(var n=!1,o=0;o<e.length&&(e[o].directive!==t||(n=e[o],r!==e[o].value));o++);return n},this.findBySelector=function(e,r,n){void 0===n&&(n=!1);for(var o=[],s=0;s<e.length;s++)!1===n?e[s].selector===r&&o.push(e[s]):-1!==e[s].selector.indexOf(r)&&o.push(e[s]);if("@imports"===r||o.length<2)return o;for(var i=o[0],a=1;a<o.length;a++)t.intelligentCSSPush([i],o[a]);return[i]},this.deleteBySelector=function(e,t){for(var r=[],n=0;n<e.length;n++)e[n].selector!==t&&r.push(e[n]);return r},this.compressCSS=function(e){for(var r=[],n={},o=0;o<e.length;o++){var s=e[o];if(!0!==n[s.selector]){var i=t.findBySelector(e,s.selector);0!==i.length&&(r=r.concat(i),n[s.selector]=!0)}}return r},this.cssDiff=function(e,r){if(e.selector!==r.selector)return!1;if("media"===e.type||"media"===r.type)return!1;for(var n,o,s={selector:e.selector,rules:[]},i=0;i<e.rules.length;i++)n=e.rules[i],(!1===(o=t.findCorrespondingRule(r.rules,n.directive,n.value))||n.value!==o.value)&&s.rules.push(n);for(var a=0;a<r.rules.length;a++)o=r.rules[a],!1===(n=t.findCorrespondingRule(e.rules,o.directive))&&(o.type="DELETED",s.rules.push(o));return 0!==s.rules.length&&s},this.intelligentMerge=function(e,r,n){void 0===n&&(n=!1);for(var o=0;o<r.length;o++)t.intelligentCSSPush(e,r[o],n);for(var s=0;s<e.length;s++){var i=e[s];"media"!==i.type&&"keyframes"!==i.type&&(i.rules=t.compactRules(i.rules))}},this.intelligentCSSPush=function(e,r,n){var o=r.selector,s=!1;if(void 0===n&&(n=!1),!1===n){for(var i=0;i<e.length;i++)if(e[i].selector===o){s=e[i];break}}else for(var a=e.length-1;a>-1;a--)if(e[a].selector===o){s=e[a];break}if(!1===s)e.push(r);else if("media"!==r.type)for(var c=0;c<r.rules.length;c++){var l=r.rules[c],u=t.findCorrespondingRule(s.rules,l.directive);!1===u?s.rules.push(l):"DELETED"===l.type?u.type="DELETED":u.value=l.value}else s.subStyles=s.subStyles.concat(r.subStyles)},this.compactRules=function(e){for(var t=[],r=0;r<e.length;r++)"DELETED"!==e[r].type&&t.push(e[r]);return t},this.getCSSForEditor=function(e,r){void 0===r&&(r=0);var n="";void 0===e&&(e=t.css);for(var o=0;o<e.length;o++)"imports"===e[o].type&&(n+="".concat(e[o].styles,"\n\n"));for(var s=0;s<e.length;s++){var i=e[s];if(void 0!==i.selector){var a="";void 0!==i.comments&&(a="".concat(i.comments,"\n")),"media"===i.type?(n+="".concat(a+i.selector,"{\n"),n+=t.getCSSForEditor(i.subStyles,r+1),n+="}\n\n"):"keyframes"!==i.type&&"imports"!==i.type&&(n+="".concat(t.getSpaces(r)+a+i.selector," {\n"),n+=t.getCSSOfRules(i.rules,r+1),n+="".concat(t.getSpaces(r),"}\n\n"))}}for(var c=0;c<e.length;c++)"keyframes"===e[c].type&&(n+="".concat(e[c].styles,"\n\n"));return n},this.getImports=function(e){for(var t=[],r=0;r<e.length;r++)"imports"===e[r].type&&t.push(e[r].styles);return t},this.getCSSOfRules=function(e,r){for(var n="",o=0;o<e.length;o++)void 0!==e[o]&&(void 0===e[o].defective?n+="".concat(t.getSpaces(r)+e[o].directive,": ").concat(e[o].value,";\n"):n+="".concat(t.getSpaces(r)+e[o].value,";\n"));return n||"\n"},this.getSpaces=function(e){for(var t="",r=0;r<4*e;r++)t+=" ";return t},this.applyNamespacing=function(e,r){var n=e,o=".".concat(t.cssPreviewNamespace);void 0!==r&&(o=r),"string"==typeof e&&(n=t.parseCSS(e));for(var s=0;s<n.length;s++){var i=n[s];if(!(i.selector.indexOf("@font-face")>-1||i.selector.indexOf("keyframes")>-1||i.selector.indexOf("@import")>-1||i.selector.indexOf(".form-all")>-1||i.selector.indexOf("#stage")>-1))if("media"!==i.type){for(var a=i.selector.split(","),c=[],l=0;l<a.length;l++)-1===a[l].indexOf(".supernova")?c.push("".concat(o," ").concat(a[l])):c.push(a[l]);i.selector=c.join(",")}else i.subStyles=t.applyNamespacing(i.subStyles,r)}return n},this.clearNamespacing=function(e,r){void 0===r&&(r=!1);var n=e,o=".".concat(t.cssPreviewNamespace);"string"==typeof e&&(n=t.parseCSS(e));for(var s=0;s<n.length;s++){var i=n[s];if("media"!==i.type){for(var a=i.selector.split(","),c=[],l=0;l<a.length;l++)c.push(a[l].split("".concat(o," ")).join(""));i.selector=c.join(",")}else i.subStyles=t.clearNamespacing(i.subStyles,!0)}return!1===r?t.getCSSForEditor(n):n},this.createStyleElement=function(e,r,n){if(void 0===n&&(n=!1),!1===t.testMode&&"nonamespace"!==n&&(r=t.applyNamespacing(r)),"string"!=typeof r&&(r=t.getCSSForEditor(r)),!0===n&&(r=t.getCSSForEditor(t.parseCSS(r))),!1!==t.testMode)return t.testMode("create style #".concat(e),r);var o=document.getElementById(e);o&&o.parentNode.removeChild(o);var s=document.head||document.getElementsByTagName("head")[0],i=document.createElement("style");i.id=e,i.type="text/css",s.appendChild(i),i.styleSheet&&!i.sheet?i.styleSheet.cssText=r:i.appendChild(document.createTextNode(r))}},b=function(e){return function(o){for(var c=arguments.length,l=new Array(c>1?c-1:0),u=1;u<c;u++)l[u-1]=arguments[u];return function(c){a(f,t.Component);var u=p(f);function f(){return n(this,f),u.apply(this,arguments)}return s(f,[{key:"componentDidMount",value:function(){this.init()}},{key:"componentDidUpdate",value:function(){this.init()}},{key:"init",value:function(){var e=this,t=l.reduce((function(t,r,n){return t+("function"==typeof r?r(e.props):r)+o[n+1]}),o[0]),r=h(),n=g(t),s=y(n);s&&s.forEach((function(e){return n=n.replace(e,"")}));var i=".".concat(r," {").concat(n,"}");s&&s.length&&S.parseCSS(s.join("")).forEach((function(e){var t="".concat(e.selector," { .").concat(r," {");e.subStyles.forEach((function(e){e.rules.forEach((function(e){t+="".concat(e.directive,": ").concat(e.value,";")}))})),i+="\n".concat(t+="}}")}));var a=v();a||(m(),a=v()),this.element.setAttribute("class",r),a.textContent+=i}},{key:"render",value:function(){var t=this;return r.createElement(e,i({},this.props,{ref:function(e){return t.element=e}}))}}]),f}()}};["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"].forEach((function(e){b[e]=b(e)})),module.exports=b;
